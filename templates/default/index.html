<!DOCTYPE html>
    <html lang="en">
        <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <title>Socket.io-doc</title>
            <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/picnic">
            <link rel="stylesheet" href="./css/style.css">
            <script src="https://cdn.socket.io/socket.io-3.0.3.min.js"></script>
        </head>
        <body>
            <div class="flex two">
                <div class="full half-900">
                    <span>
                        1dsfsd
                    </span>
                </div>
                <div class="full half-900">
                    <div class="three flex">
                        <input id="server" value="ws://localhost:3000" class="two-third" type="text" placeholder="socket entry point" style="margin:0;">
                        <button onClick="toggleConnect()" id="connectBtn" class="sixth shyButton" style="margin:0;padding:0">Connect</button>
                        <button class="sixth pseudo button" style="margin:0;padding:0">Settings</button>
                    </div>
                </div>
            </div>
            <div class="flex three demo">
                <div class="full sixth-900">
                    <span class="emitsMenu">
                        <ul>
<li><a href="#listen_onReceive">onReceive</a></li>
<li><a href="#listen_onReceiveme">onReceiveme</a></li>
</ul>
                    </span>
                </div>
                <div class="full two-third-900">
                    <span>
                        <div class="flex" id="emit_send">
            <article class="card">
            <header>
            <h5> category :<span class="label success">Messaging</span></h5>
            </header>
            <footer>
                <div class="flex">
                description : <p>Singleline or multiline description text. Line breaks are preserved111.</p> 
                </div>
                <h5> event : <span class="label"> send</span> </h5>
                <h5> action : <span class="label"> emit</span> </h5>
                <div class="flex">
                <h5>example: </h5>
                <code class="flex">socket.emit('send', {"id": 1,"title": 5}) </code>
                <textarea id="send_data">{"id": 1,"title": 5}</textarea>
                <div>
                <div>
                <button
                    onClick="socket.emit('send', document.getElementById('send_data').value);"
                    class='success'>
                        Emit
                </button>
                </div>
            </footer>
            </article>
        </div> 

        <div class="flex" id="listen_onReceive">
            <article class="card">
            <header>
            <h5> category :<span class="label success">Messaging</span></h5>
            </header>
            <footer>
                <div class="flex">
                description : <p>Singleline or multiline description text. Line breaks are preserved.</p> 
                </div>
                <h5> event : <span class="label"> onReceive</span> </h5>
                <h5> action : <span class="label"> listen</span> </h5>
                <div class="flex">
                <h5>example: </h5>
                <code class="flex">socket.emit('onReceive', 5) </code>
                <textarea id="onReceive_data">5</textarea>
                <div>
                <div>
                <button
                    onClick="socket.emit('onReceive', document.getElementById('onReceive_data').value);"
                    class='success'>
                        Emit
                </button>
                </div>
            </footer>
            </article>
        </div> 

        <div class="flex" id="emit_sendme">
            <article class="card">
            <header>
            <h5> category :<span class="label success">Messaging</span></h5>
            </header>
            <footer>
                <div class="flex">
                description : <p>Singleline or multiline description text. Line breaks are preserved111.</p> 
                </div>
                <h5> event : <span class="label"> sendme</span> </h5>
                <h5> action : <span class="label"> emit</span> </h5>
                <div class="flex">
                <h5>example: </h5>
                <code class="flex">socket.emit('sendme', {"id": 1,"title": 5}) </code>
                <textarea id="sendme_data">{"id": 1,"title": 5}</textarea>
                <div>
                <div>
                <button
                    onClick="socket.emit('sendme', document.getElementById('sendme_data').value);"
                    class='success'>
                        Emit
                </button>
                </div>
            </footer>
            </article>
        </div> 

        <div class="flex" id="listen_onReceiveme">
            <article class="card">
            <header>
            <h5> category :<span class="label success">Messaging</span></h5>
            </header>
            <footer>
                <div class="flex">
                description : <p>Singleline or multiline description text. Line breaks are preserved.</p> 
                </div>
                <h5> event : <span class="label"> onReceiveme</span> </h5>
                <h5> action : <span class="label"> listen</span> </h5>
                <div class="flex">
                <h5>example: </h5>
                <code class="flex">socket.emit('onReceiveme', 5) </code>
                <textarea id="onReceiveme_data">5</textarea>
                <div>
                <div>
                <button
                    onClick="socket.emit('onReceiveme', document.getElementById('onReceiveme_data').value);"
                    class='success'>
                        Emit
                </button>
                </div>
            </footer>
            </article>
        </div> 

        
                    </span>
                </div>
                <div class="full sixth-900"><span>3</span></div>
            </div>
            <footer class="flex full">
                
            </footer>
        </body>
    </html>
    <script>
        var socket;
        function toggleConnect() {
            if (socket && socket.connected) {
                socket.disconnect();
                let toggleConnectBtn=document.getElementById("connectBtn");
                toggleConnectBtn.textContent='Connect' ;
                return toggleConnectBtn.classList.remove('success');
            }

            socket = io.connect(document.getElementById('server').value, {transports: ['websocket'],});
            
            socket.on('connect',()=>{
                let toggleConnectBtn=document.getElementById("connectBtn");
                toggleConnectBtn.textContent='Disconnect';
                toggleConnectBtn.classList.add('success');
            });

            var onevent = socket.onevent;
            socket.onevent = function (packet) {
                var args = packet.data || [];
                onevent.call (this, packet);    // original call
                packet.data = ["*"].concat(args);
                onevent.call(this, packet);      // additional call to catch-all
            };

            socket.on("*",function(event,data) {
                console.log(event);
                console.log(data);
            });
        }
    </script>
    